<h2>Failed Jobs (Last 1000)</h2>
<div id="bundles">
    <table width="100%" cellpadding="0" cellspacing="0">
        <thead>
        <tr>
            <td>Job Type</td>
            <td>Exception type</td>
            <td>Exception text</td>
            <td>Exception backtrace</td>
        </tr>
        </thead>
        <tbody>
        #set($q = $sched.getFailedQueue())
        #if($q.length<1)
        <tr><td colspan="4">No failed jobs.</td></tr>
        #else
        #foreach($job in $q)
            <tr>
                <td>
                    #if($job)
                        $job
                    #else
                    N/A
                    #end
                </td>
                <td>
                    #set($e = $job.ErrorException)
                    #if($e)
                        ${e.Class.Package.Name}. ${e.Class.SimpleName}
                    #else
                    N/A
                    #end
                </td>
                <td>
                    #if($e.Message)
                    ${e.Message}
                    #else
                    N/A
                    #end
                </td>
                <td>
                    #if($e.StackTrace)
                    #foreach($line in $e.StackTrace)
                        ${line.ClassName}. ${line.MethodName}(), (${line.FileName}:${line.LineNumber})
                    #end
                    #else
                    N/A
                    #end
                    <div id="end"></div>
                </td>
            </tr>
        #end
        #end

    </table>
</div>